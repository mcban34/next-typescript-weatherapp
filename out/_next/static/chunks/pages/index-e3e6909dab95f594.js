(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(4485)}])},4485:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var s=a(5893),r=a(3682),l=a.n(r),n=a(9746),i=a.n(n),o=a(7294),c=a(6160),d=a(5007);let u=d.I0,h=d.v9;var m=a(1329),x=a(4173);let g=async e=>{try{let t=await fetch("".concat("https://api.collectapi.com/weather/getWeather","?data.lang=tr&data.city=").concat(e),{headers:{"content-type":"application/json",authorization:"apikey ".concat("703DmWOaV65D76AnGFsSqD:0tQHhuVSuhgZuTwBq248Vt")}});if(!t.ok)throw Error("Hava durumu verileri alınamadı");return t.json()}catch(e){throw e}},p=e=>{let{setfindWeatherData:t,setLoading:a}=e,[r,l]=(0,o.useState)(""),[n,i]=(0,o.useState)(""),[d,p]=(0,o.useState)(""),f=u(),{provinces:v,selectedProvince:b,districts:w,selectedDistrict:j,neighborhoods:y,selectedNeighborhood:N,isLoadingDistricts:k,isLoadingNeighborhoods:C}=h(e=>e.location),L=e=>{if(!e)return"";let t={i:"İ",I:"I",ı:"I",İ:"İ"},a=e.charAt(0).toLowerCase(),s=e.slice(1).toLowerCase();return a in t?t[a]+s:e.charAt(0).toUpperCase()+s};(0,o.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat("https://turkiyeapi.dev/api/v1/provinces"));if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();f((0,m.Te)(t.data))}catch(e){x.Am.error("Bir Hata Oluştu! Daha Sonra Tekrar Deneyiniz"),console.error("İller y\xfcklenirken hata oluştu:",e)}})()},[f]),(0,o.useEffect)(()=>{(async()=>{if(!b){f((0,m.Qp)([]));return}f((0,m.aN)(!0));try{let e=await fetch("".concat("https://turkiyeapi.dev/api/v1/provinces","/").concat(b.id));if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();f((0,m.Qp)(t.data.districts))}catch(e){x.Am.error("Bir Hata Oluştu! Daha Sonra Tekrar Deneyiniz"),console.error("İl\xe7eler y\xfcklenirken hata oluştu:",e),f((0,m.Qp)([]))}finally{f((0,m.aN)(!1))}})()},[b,f]),(0,o.useEffect)(()=>{(async()=>{if(!j){f((0,m.DY)([]));return}f((0,m.sv)(!0));try{let e=await fetch("".concat("https://turkiyeapi.dev/api/v1/districts","/").concat(j.id));if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();f((0,m.DY)(t.data.neighborhoods))}catch(e){x.Am.error("Bir Hata Oluştu! Daha Sonra Tekrar Deneyiniz"),console.error("Mahalleler y\xfcklenirken hata oluştu:",e),f((0,m.DY)([]))}finally{f((0,m.sv)(!1))}})()},[j,f]);let Q=""===r?v:v.filter(e=>{let t=e.name.replace(/İ/g,"I").toLowerCase(),a=r.replace(/İ/g,"I").toLowerCase();return t.includes(a)}),S=""===n?w:w.filter(e=>{let t=e.name.replace(/İ/g,"I").toLowerCase(),a=n.replace(/İ/g,"I").toLowerCase();return t.includes(a)}),D=""===d?y:y.filter(e=>{let t=e.name.replace(/İ/g,"I").toLowerCase(),a=d.replace(/İ/g,"I").toLowerCase();return t.includes(a)});return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"grid lg:grid-cols-4 grid-col gap-5 items-end",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium  mb-2",children:"İl"}),(0,s.jsx)(c.hQ,{value:b,onChange:e=>{f((0,m.f_)(e)),i(""),p("")},children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{className:"relative w-full cursor-default overflow-hidden rounded-lg bg-white text-left border border-gray-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-teal-300 sm:text-sm",children:[(0,s.jsx)(c.hQ.Input,{className:"w-full border-none py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 focus:ring-0 outline-none",displayValue:e=>(null==e?void 0:e.name)||"",onChange:e=>{l(L(e.target.value))},placeholder:"İl se\xe7iniz"}),(0,s.jsx)(c.hQ.Button,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"h-5 w-5 text-gray-600",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"m6 9 6 6 6-6"})})})]}),(0,s.jsx)(c.hQ.Options,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm z-10",children:0===Q.length?(0,s.jsx)("div",{className:"relative cursor-default select-none px-4 py-2 text-gray-500",children:"Sonu\xe7 bulunamadı."}):Q.map(e=>(0,s.jsx)(c.hQ.Option,{value:e,className:e=>{let{active:t}=e;return"relative cursor-default select-none py-2 pl-10 pr-4 ".concat(t?"bg-teal-600 text-white":"text-gray-900")},children:t=>{let{selected:a,active:r}=t;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"block truncate ".concat(a?"font-medium":"font-normal"),children:e.name}),a&&(0,s.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 ".concat(r?"text-white":"text-teal-600"),children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"14",viewBox:"0 0 448 512",className:"fill-current",children:(0,s.jsx)("path",{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"})})})]})}},e.id))})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium  mb-2",children:"İl\xe7e"}),(0,s.jsx)(c.hQ,{value:j,onChange:e=>{f((0,m.W1)(e)),i(""),p("")},disabled:!b||k,children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{className:"relative w-full cursor-default overflow-hidden rounded-lg bg-white text-left border border-gray-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-teal-300 sm:text-sm",children:[(0,s.jsx)(c.hQ.Input,{className:"w-full border-none py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 focus:ring-0",displayValue:e=>(null==e?void 0:e.name)||"",onChange:e=>{i(L(e.target.value))},placeholder:k?"Y\xfckleniyor...":"İl\xe7e se\xe7iniz",disabled:!b||k}),(0,s.jsx)(c.hQ.Button,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"h-5 w-5 text-gray-600",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"m6 9 6 6 6-6"})})})]}),(0,s.jsx)(c.hQ.Options,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm z-10",children:k?(0,s.jsx)("div",{className:"relative cursor-default select-none px-4 py-2 text-gray-500",children:"Y\xfckleniyor..."}):0===S.length?(0,s.jsx)("div",{className:"relative cursor-default select-none px-4 py-2 text-gray-500",children:"Sonu\xe7 bulunamadı."}):S.map(e=>(0,s.jsx)(c.hQ.Option,{value:e,className:e=>{let{active:t}=e;return"relative cursor-default select-none py-2 pl-10 pr-4 ".concat(t?"bg-teal-600 text-white":"text-gray-900")},children:t=>{let{selected:a,active:r}=t;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"block truncate ".concat(a?"font-medium":"font-normal"),children:e.name}),a&&(0,s.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 ".concat(r?"text-white":"text-teal-600"),children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"14",viewBox:"0 0 448 512",className:"fill-current",children:(0,s.jsx)("path",{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"})})})]})}},e.id))})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium  mb-2",children:"Mahalle"}),(0,s.jsx)(c.hQ,{value:N,onChange:e=>{f((0,m.Br)(e)),p("")},disabled:!j||C,children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{className:"relative w-full cursor-default overflow-hidden rounded-lg bg-white text-left border border-gray-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-teal-300 sm:text-sm",children:[(0,s.jsx)(c.hQ.Input,{className:"w-full border-none py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 focus:ring-0",displayValue:e=>(null==e?void 0:e.name)||"",onChange:e=>{p(L(e.target.value))},placeholder:C?"Y\xfckleniyor...":"Mahalle se\xe7iniz",disabled:!j||C}),(0,s.jsx)(c.hQ.Button,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"h-5 w-5 text-gray-600",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"m6 9 6 6 6-6"})})})]}),(0,s.jsx)(c.hQ.Options,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm z-10",children:C?(0,s.jsx)("div",{className:"relative cursor-default select-none px-4 py-2 ",children:"Y\xfckleniyor..."}):0===D.length?(0,s.jsx)("div",{className:"relative cursor-default select-none px-4 py-2 text-gray-500",children:"Sonu\xe7 bulunamadı."}):D.map(e=>(0,s.jsx)(c.hQ.Option,{value:e,className:e=>{let{active:t}=e;return"relative cursor-default select-none py-2 pl-10 pr-4 ".concat(t?"bg-teal-600 text-white":"text-gray-900")},children:t=>{let{selected:a,active:r}=t;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"block truncate ".concat(a?"font-medium":"font-normal"),children:e.name}),a&&(0,s.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 ".concat(r?"text-white":"text-teal-600"),children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"14",viewBox:"0 0 448 512",className:"fill-current",children:(0,s.jsx)("path",{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"})})})]})}},e.id))})]})})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{onClick:()=>{let e="";N?e="".concat(N.name,", ").concat(null==j?void 0:j.name):j?e=j.name:b&&(e=b.name),e&&(async()=>{a(!0);let s=await g(e);s.success&&t(s.result),a(!1)})()},disabled:!b,className:"py-2 px-4 w-full rounded-lg text-white font-medium transition-all duration-200\n                        ".concat(b?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed"),children:"Hava Durumunu G\xf6ster"})})]})})},f=e=>{let{setSearchWeatherData:t,searchQuery:a,setSearchQuery:r,setLoading:l}=e,n=async()=>{l(!0);let e=await g(a);e.success?t(e.result):x.Am.error(e.message),l(!1)};return(0,s.jsx)("div",{children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a.trim()&&n()},className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:a,onChange:e=>r(e.target.value),placeholder:"Arama Yapınız...",className:"flex-1 border border-gray-200 rounded-lg px-3 text-gray-500 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,s.jsx)("button",{type:"submit",disabled:!a.trim(),className:"px-4 py-2 rounded-lg text-white font-medium transition-all duration-200\n                    ".concat(a.trim()?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed"),children:"Ara"})]})})},v=e=>{let{weatherData:t}=e;return(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"mt-4 rounded-lg",children:(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.map((e,t)=>(0,s.jsxs)("div",{className:" rounded-lg p-4 relative hover:shadow-md transition-shadow backdrop-blur-sm bg-white/5",children:[(0,s.jsx)("img",{src:e.icon,width:50,className:"absolute right-3 top-4",alt:""}),(0,s.jsx)("h3",{className:"font-medium text-lg mb-2",children:e.day}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("p",{className:"text-2xl font-bold",children:[e.degree,"\xb0C"]}),(0,s.jsxs)("div",{className:"text-sm text-gray-400",children:[(0,s.jsxs)("p",{children:["Nem: ",e.humidity,"%"]}),e.min&&e.max&&(0,s.jsxs)("p",{children:["Min: ",e.min,"\xb0C / Max: ",e.max,"\xb0C"]})]})]})]},t))})})})},b=()=>(0,s.jsxs)("div",{className:"flex items-center justify-center absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:[(0,s.jsx)("span",{className:"text-xs",children:"Y\xfckleniyor."}),(0,s.jsx)("span",{className:"w-24 h-24 absolute animate-ping inline-flex rounded-full bg-white/70 opacity-75"}),(0,s.jsx)("span",{className:"w-24 h-24 absolute inline-flex rounded-full bg-white/30 opacity-75"})]}),w=e=>{let{text:t}=e;return(0,s.jsx)("div",{className:"mt-5 text-center bg-white/10 backdrop-blur-md p-3 rounded-md",children:t})};function j(){let[e,t]=(0,o.useState)("location"),[a,r]=(0,o.useState)(""),[n,c]=(0,o.useState)([]),[d,u]=(0,o.useState)([]),[h,m]=(0,o.useState)(!1);return(0,s.jsxs)("div",{className:"".concat(l().variable," ").concat(i().variable," font-[family-name:var(--font-geist-sans)] relative min-h-screen w-full text-white"),children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-[url('/background4.jpg')] bg-cover bg-bottom bg-no-repeat"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50"}),(0,s.jsx)("div",{className:"relative min-h-screen flex items-center",children:(0,s.jsxs)("div",{className:"container mx-auto  min-h-[700px] overflow-y-auto rounded-lg backdrop-blur-md border border-white/30 p-5",children:[(0,s.jsxs)("div",{className:"inline-flex backdrop-blur-md bg-white/10 p-2 rounded-md border border-white/10 text-sm",children:[(0,s.jsx)("div",{onClick:()=>t("location"),className:"px-5 py-2 cursor-pointer",children:"Konum Se\xe7"}),(0,s.jsx)("div",{onClick:()=>t("search"),className:"px-5 py-2 cursor-pointer border-l border-gray-500",children:"Arama Yap"})]}),(0,s.jsx)("div",{className:"mt-5",children:"location"==e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p,{setfindWeatherData:u,setLoading:m}),""!=d?h?(0,s.jsx)(b,{}):(0,s.jsx)(v,{weatherData:d}):(0,s.jsx)(w,{text:"L\xfctfen Se\xe7im Yapınız..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f,{setSearchWeatherData:c,searchWeatherData:n,searchQuery:a,setSearchQuery:r,setLoading:m}),""!=n?h?(0,s.jsx)(b,{}):(0,s.jsx)(v,{weatherData:n}):(0,s.jsx)(w,{text:"L\xfctfen Arama Yapınız..."})]})})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[342,798,888,774,179],()=>t(8312)),_N_E=e.O()}]);